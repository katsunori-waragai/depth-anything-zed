# 提案： C1カメラからdepth推定をする。
## 前提
- C1 カメラ Tier IV 製
- Depth Anything

## 提案内容
- 単眼のC1カメラで、スケーリングについてある程度根拠のある深度推定をできるカメラライブラリを作る。

## 提案する理由
- 基線長を必要とするステレオカメラ（アクティブステレオを含む）は、その分だけ大きくなってしまう。
  - ロボットの手首近くなどの場合には、カメラを小さく軽くしたい。
- 一方のカメラにしか写らないほど近距離になってしまうと、深度がほとんどのステレオカメラでは算出できない。
  - ロボットのハンドに利用することを考えると、近距離すぎる場合に物体に気づけないのはシステム設計上つらい。

## 提案の実現方法
#### C1カメラステレオカメラを作る
- カメラの視野角を選択する。
- 測定する深度範囲を明確にする。
- その範囲をカバーするように、基線長を決める。
- C1カメラ２台を、その基線長で安定して取り付ける。（取り付けたときの向きの精度・安定性も大事）
- C1カメラ２台によるステレオカメラのキャリブレーションを実施する。
#### C1カメラステレオカメラで視差を算出する。
- C1カメラステレオカメラで、ステレオカメラとしての視差を算出する。
- C1カメラの左カメラ画像からdepth-anythingでの視差を算出する。
- 対応関係を付ける。
- C１カメラの左カメラ画像から視差を算出して、ステレオカメラとしての３Dの点群しての処理フローを作る。
#### C1カメラ単眼での処理フローを作る。
- 上記の作業で、左カメラとdepth-anythingだけで、３Dの点群座標を得る処理フローができている。
- それを単眼カメラに対して実行する。

## めざす範囲
- 物体の前後関係を保たれていること
- おおきな欠損値がないこと
## めざさないこと
- 計測値としての精度
- １回の計測によって目標座標を固定し、その間はフィードバックを必要としない方式
